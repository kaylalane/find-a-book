import{j as s,R as i,B as n,c as l,d,f as c,L as h}from"./index-KDzMasfK.js";import{N as o}from"./NewReviewStars-bHwEv52O.js";import"./useClerk-7TgjYqNx.js";function x({books:r}){return s.jsx("table",{className:"book-table",children:s.jsx("tbody",{children:r.map(e=>s.jsxs("tr",{children:[s.jsx("td",{width:"5%",children:s.jsx("img",{src:e.cover,alt:`${e.title} cover`,className:"book-card__cover--small"})}),s.jsxs("td",{className:"",children:[s.jsxs("a",{href:`/book/${e._id}`,className:"book-table__author",children:[" ",e.title]}),s.jsx("br",{}),"by"," ",s.jsx("a",{href:`/author/${e.authorId}`,children:e.authorName}),s.jsx("br",{}),s.jsxs("div",{className:"mini-ratings",children:[e.overallRating&&s.jsx(i,{rating:e.overallRating}),e.overallRating," avg ratings -"," ",e.numberOfReviews," ratings - published"," ",new Date(e.publishedAt).getFullYear()]})]}),s.jsx("td",{width:"130px",children:s.jsxs("div",{className:"rate-button-container",children:[s.jsx(n,{size:"large",children:"Want to Read"}),s.jsx("p",{children:"Rate this book"}),s.jsx(o,{book:e,size:"small"})]})})]},e._id))})})}function g(){const r=l(),e=d({queryKey:["author",r.id||""],queryFn:c});if(e.isLoading)return s.jsx("div",{children:"Loading..."});const a=e.data.author,t=e.data.books;return s.jsxs(h,{className:"author-page",children:[s.jsx("h1",{children:a==null?void 0:a.name}),a.bio&&s.jsxs("p",{children:[" ",a.bio]}),s.jsxs("p",{children:[a==null?void 0:a.name,"'s Books"]}),s.jsx(x,{books:t})]})}export{g as default};
