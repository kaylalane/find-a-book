import{u as i,a as o,j as r}from"./index-HXcDPisX.js";function p(){const{user:e}=i(),t=o();if(!e)return r.jsx("div",{children:"Loading"});(async()=>{console.log("user",e);const n="/api/user";try{const a=await(await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:(e==null?void 0:e.emailAddresses[0].emailAddress)||"",username:(e==null?void 0:e.username)||"",clerkId:(e==null?void 0:e.id)||""})})).json();await fetch("/api/shelf/new-user",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a._id})})}catch(s){console.log(s)}t("/")})()}export{p as default};
